<!-- 
Controller: RentalListCtrl - controllers.js
Additionally needed scripts: js/dirPagination.js 
-->

<!-- Basic Common Filter -->
<div class="container-fluid">
 	<div class="row">
 		<div class="col-lg-4 col-xs-12"></div>
 		<div class="col-lg-4 col-xs-12 text-center">
			<form class="form-inline" role="form">
				<div class="form-group" id="the-basics">
					<label for="search">Search:</label>
					<input ng-model="search.$" class="form-control" placeholder="Search Text" list="mylist">	<!-- common search filters, filters every entrys and attributes-->
				</div>
				<button type="button" class="btn btn-default btn-sm" data-toggle="collapse" href="#collapse1">Advanced Filters</button>
			</form>
 		</div>
 		<div class="col-lg-4 col-xs-12"></div>
 	</div>

	<!-- Collapsible Filter -->
	<div class="row">
		<div class="col-lg-4 col-md-3 col-xs-12"></div>
		<div class="col-lg-4 col-md-6 col-xs-12 panel-group">
			<div class="panel panel-default">				
				<div id="collapse1" class="panel-collapse collapse">
					<div class="panel-body">							
							<hr>
							<div class="row">
								<label for="search" class="col-lg-4 col-md-4 col-xs-12">Items per page:</label>		<!-- controls the items per page -->
								<input ng-model="pageSize" type="text" class="col-lg-6 col-md-8 col-xs-12">
							</div>	<!-- Advanced Filter Options for specific filtering-->
							<hr>
							<div class="row">
								<label for="search" class="col-lg-2 col-md-2 col-xs-12">ID:</label>
								<input ng-model="search.Id" type="text" class="col-lg-4 col-md-4 col-xs-12">
								
							</div>
							<div class="row">
								<label for="search" class="col-lg-2 col-md-2 col-xs-12">LastN.:</label>
								<input ng-model="search.Lastname" type="text" class="col-lg-4 col-md-4 col-xs-12">
								<label for="search" class="col-lg-2 col-md-2 col-xs-12">FirstN.:</label>
								<input ng-model="search.Firstname" type="text" class="col-lg-4 col-md-4 col-xs-12">				
							</div>
							<div class="row">
								<label for="search" class="col-lg-2 col-md-2 col-xs-12">Email:</label>
								<input ng-model="search.Email" type="text" class="col-lg-10 col-md-10 col-xs-12">	
							</div><br>
							<div class="row">
								<label for="search" class="col-lg-2 col-md-2 col-xs-12">EndDate:</label>
								<input ng-model="search.EndDate" type="text" class="col-lg-10 col-md-10 col-xs-12">	
							</div>
							<hr>
							<div>
								<!-- Reset filter options -->
								<button type="button" class=" col-lg-12 col-xs-12 btn btn-info btn-sm" ng-click="resetFilter()">Reset Filter</button>			
							</div>
					</div>
					<div class="panel-footer"></div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Rental List--> 
<div class="container" >
	<div class="col-md-12">       
		<!-- Table -->
		<div class="container table-responsive">        <!-- responsive, striped table-->  
			<table  class="table table-hover table-striped">			
				<thead>
				  <tr>
				    <th ng-click="sort('Id')">ID		<!-- Uses the function sort in controller.js to handle the orderBy -->
						<span class="glyphicon sort-icon" ng-show="sortKey=='Id'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
				    </th>
				    <th ng-click="sort('Email')">Email 
				    	<span class="glyphicon sort-icon" ng-show="sortKey=='Email'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
				    </th>
				    <th ng-click="sort('Lastname')">Lastname 
				    	<span class="glyphicon sort-icon" ng-show="sortKey=='Lastname'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
				    </th>
				    <th ng-click="sort('FirstName')">FirstName
						<span class="glyphicon sort-icon" ng-show="sortKey=='FirstName'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
				    </th>
				    <!-- There needs to be a ng-if with state and date calculation -->
				    <th ng-click="sort('EndDate')">EndDate
				    	<span class="glyphicon sort-icon" ng-show="sortKey=='EndDate'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
				    </th>
				    <th ng-click="sort('State')">State
				    	<span class="glyphicon sort-icon" ng-show="sortKey=='State'" ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
				    </th>		    
				  </tr>
				</thead>
				<tbody>	<!-- List items in table -->
				  <tr ng-click="viewDetail(rentalData.Id);" dir-paginate="rentalData in listData| orderBy:sortKey:reverse | filter: search | itemsPerPage:pageSize">	<!-- detailview via leftmouse click on the item -->
				    <td>{{rentalData.Id}}</td>
				    <td>{{rentalData.Email}}</td>
				    <td>{{rentalData.Lastname}}</td>
				    <td>{{rentalData.FirstName}}</td>
				    <td>{{rentalData.EndDate}}</td>
				    <td>{{rentalData.State}}</td>
				  </tr>
				</tbody>
			</table>
		</div>
	    
	    <!-- Pageination --> 
		<div class="text-center">
			<dir-pagination-controls direction-links="true" boundary-links="true" ></dir-pagination-controls>
		</div>
	</div>
</div>



<!-- Typeahead List //NOT INCLUDED, WIP
<datalist id="mylist">
	<option ng-repeat="x in typeaheadData">{{x.data}}</option>
</datalist> -->